; Startup Sequence for HstWB Installer
; ------------------------------------
;
; Date: 2016-11-04
; Author: Henrik Noerfjand Stengaard


; Load library for unadf
LoadModule df0:libs/mathieeedoubbas.library


; Clear screen
echo "*ec" 


; Installer message
echo "HstWB Installer"
echo ""
echo "Workbench adf files will now be extracted"
echo "and installed to your image." 
echo "This operation will take about 5-10 minutes."


; Set stack, failat and load basic commands resident 
stack 16384
failat 21
DF0:C/AddBuffers >NIL: DF0: 200
resident DF0:C/Assign PURE
resident DF0:C/Copy PURE
resident DF0:C/Delete PURE
resident DF0:C/Execute PURE
resident DF0:C/MakeDir PURE
resident DF0:C/Wait PURE 


; Fail, if user assign doesn't exist
IF NOT EXISTS S:User-Assign
  echo "" >Install:Error
  echo "Error: User assign doesn't exist!"
  SKIP end
ENDIF
execute S:User-Assign


; Install Workbench
IF EXISTS S:Install-Workbench
  execute S:Workbench
ENDIF


; Install Kickstart
IF EXISTS S:Install-Kickstart
  execute S:Kickstart
ENDIF


; Done
echo ""
echo "Done."
echo "Installation is now complete."
echo ""


; End
LAB end
echo "UAE will quit in 5 seconds..."
wait 5
uaequit
