.KEY amigaosmenu/a
.BRA {
.KET }

; Build Amiga OS Menu
; -------------------
;
; Date: 2019-01-02
; Author: Henrik Noerfjand Stengaard
;
; AmigaDOS script to build Amiga OS installation menu.


; amiga os menu
set menuoption "0"

IF EXISTS T:_amigaosname
  Delete >NIL: T:_amigaosname
ENDIF

IF EXISTS T:_amigaosinstall
  Delete >NIL: T:_amigaosinstall
ENDIF

IF EXISTS T:_amigaos39
  Delete >NIL: T:_amigaos39
ENDIF

IF EXISTS T:_boingbaginstall
  Delete >NIL: T:_boingbaginstall
ENDIF

echo "set amigaosname *"Amiga OS from floppy disks*"" >T:_amigaosfloppydisk
echo "set amigaosinstall *"Amiga-OS-Disk*"" >>T:_amigaosfloppydisk
echo "set amigaos39 *"0*"" >>T:_amigaosfloppydisk
echo "set boingbaginstall *"0*"" >>T:_amigaosfloppydisk

echo "" NOLINE >T:_amigaosmenu
echo "" NOLINE >T:_amigaosoption

echo "LAB amigaosmenu" >>T:_amigaosmenu
echo "echo *"*" NOLINE >T:amigaosmenu" >>T:_amigaosmenu

; amiga os 3.9 cd
set menuoption `eval $menuoption + 1`
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-390-CD
  ; set default install amiga os 3.9 from cd
  echo "Amiga OS 3.9 from cd-rom" >T:_amigaosname
  echo "Amiga-OS-390-CD" >T:_amigaosinstall
  echo "1" >T:_amigaos39
  echo "0" >T:_boingbaginstall

  echo "" >>T:_amigaosmenu
  echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-390-CD*"" >>T:_amigaosmenu
  echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ELSE" >>T:_amigaosmenu
  echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ENDIF" >>T:_amigaosmenu
  echo "  echo *" : Amiga OS 3.9 from cd-rom*" >>T:amigaosmenu" >>T:_amigaosmenu

  echo "" >>T:_amigaosoption
  echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
  echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-390-CD*"" >>T:_amigaosoption
  type T:_amigaosfloppydisk >>T:_amigaosoption
  echo "  ELSE" >>T:_amigaosoption
  echo "    set amigaosname *"Amiga OS 3.9 from cd-rom*"" >>T:_amigaosoption
  echo "    set amigaosinstall *"Amiga-OS-390-CD*"" >>T:_amigaosoption
  echo "    set amigaos39 *"1*"" >>T:_amigaosoption
  echo "  ENDIF" >>T:_amigaosoption
  echo "ENDIF" >>T:_amigaosoption
ELSE
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.9 from cd-rom*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF

; amiga os 3.9 iso
set menuoption `eval $menuoption + 1`
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-390-ISO
  ; set default install amiga os 3.9 from iso, if not set
  IF NOT EXISTS "T:_amigaosinstall"
    echo "Amiga OS 3.9 from iso file" >T:_amigaosname
    echo "Amiga-OS-390-ISO" >T:_amigaosinstall
    echo "1" >T:_amigaos39
    echo "0" >T:_boingbaginstall
  ENDIF

  echo "" >>T:_amigaosmenu
  echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-390-ISO*"" >>T:_amigaosmenu
  echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ELSE" >>T:_amigaosmenu
  echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ENDIF" >>T:_amigaosmenu
  echo "  echo *" : Amiga OS 3.9 from iso file*" >>T:amigaosmenu" >>T:_amigaosmenu

  echo "" >>T:_amigaosoption
  echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
  echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-390-ISO*"" >>T:_amigaosoption
  type T:_amigaosfloppydisk >>T:_amigaosoption
  echo "  ELSE" >>T:_amigaosoption
  echo "    set amigaosname *"Amiga OS 3.9 from iso file*"" >>T:_amigaosoption
  echo "    set amigaosinstall *"Amiga-OS-390-ISO*"" >>T:_amigaosoption
  echo "    set amigaos39 *"1*"" >>T:_amigaosoption
  echo "  ENDIF" >>T:_amigaosoption
  echo "ENDIF" >>T:_amigaosoption
ELSE
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.9 from iso file*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF

; amiga os 3.9 boing bag 1
set menuoption `eval $menuoption + 1`
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-390-BB1
  ; set default install amiga os 3.9 boing bag 1, if not set
  echo "1" >T:_boingbaginstall

  echo "" >>T:_amigaosmenu
  echo "IF *"*$boingbaginstall*" GT 0 VAL" >>T:_amigaosmenu
  echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ELSE" >>T:_amigaosmenu
  echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ENDIF" >>T:_amigaosmenu
  echo "  echo *" : Amiga OS 3.9 Boing Bag 1 file*" >>T:amigaosmenu" >>T:_amigaosmenu

  echo "" >>T:_amigaosoption
  echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
  echo "  IF *"*$amigaos39*" EQ 1 VAL" >>T:_amigaosoption
  echo "    IF *"*$boingbaginstall*" GT 0 VAL" >>T:_amigaosoption
  echo "      set boingbaginstall *"0*"" >>T:_amigaosoption
  echo "    ELSE" >>T:_amigaosoption
  echo "      set boingbaginstall *"1*"" >>T:_amigaosoption
  echo "    ENDIF" >>T:_amigaosoption
  echo "  ELSE" >>T:_amigaosoption
  echo "    RequestChoice *"Amiga OS 3.9 required*" *"Select Amiga OS 3.9 to install first!*" *"OK*" >NIL:" >>T:_amigaosoption
  echo "  ENDIF" >>T:_amigaosoption
  echo "ENDIF" >>T:_amigaosoption
ELSE
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.9 Boing Bag 1 file*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF

; amiga os 3.9 boing bag 2
set menuoption `eval $menuoption + 1`
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-390-BB2
  ; set default install amiga os 3.9 boing bag 2, if not set
  echo "2" >T:_boingbaginstall

  echo "" >>T:_amigaosmenu
  echo "IF *"*$boingbaginstall*" GT 1 VAL" >>T:_amigaosmenu
  echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ELSE" >>T:_amigaosmenu
  echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ENDIF" >>T:_amigaosmenu
  echo "  echo *" : Amiga OS 3.9 Boing Bag 2 file*" >>T:amigaosmenu" >>T:_amigaosmenu

  echo "" >>T:_amigaosoption
  echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
  echo "  IF *"*$amigaos39*" EQ 1 VAL" >>T:_amigaosoption
  echo "    IF *"*$boingbaginstall*" GT 1 VAL" >>T:_amigaosoption
  echo "      set boingbaginstall *"1*"" >>T:_amigaosoption
  echo "    ELSE" >>T:_amigaosoption
  echo "      set boingbaginstall *"2*"" >>T:_amigaosoption
  echo "    ENDIF" >>T:_amigaosoption
  echo "  ELSE" >>T:_amigaosoption
  echo "    RequestChoice *"Amiga OS 3.9 required*" *"Select Amiga OS 3.9 to install first!*" *"OK*" >NIL:" >>T:_amigaosoption
  echo "  ENDIF" >>T:_amigaosoption
  echo "ENDIF" >>T:_amigaosoption
ELSE
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.9 Boing Bag 2 file*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF

; add splitter
set menuoption `eval $menuoption + 1`
echo "echo *"--------------------------------------------------*" >>T:amigaosmenu" >>T:_amigaosmenu


; amiga os 3.1.4
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-ADF
  ; amiga os 3.1.4 a500
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A500-ADF
    ; set default install amiga os 3.1.4 a500 from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A500 from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A500-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A500-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A500 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A500-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A500 from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A500-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a600
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A600-ADF
    ; set default install amiga os 3.1.4 a600 from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A600 from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A600-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A600-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A600 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A600-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A600 from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A600-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a2000
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A2000-ADF
    ; set default install amiga os 3.1.4 a2000 from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A2000 from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A2000-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A2000-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A2000 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A2000-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A2000 from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A2000-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a1200
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A1200-ADF
    ; set default install amiga os 3.1.4 a1200 from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A1200 from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A1200-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A1200-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A1200 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A1200-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A1200 from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A1200-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a3000
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A3000-ADF
    ; set default install amiga os 3.1.4 a3000 from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A3000 from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A3000-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A3000-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A3000 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A3000-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A3000 from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A3000-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a4000d
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A4000D-ADF
    ; set default install amiga os 3.1.4 a4000d from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A4000D from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A4000D-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A4000D-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A4000D from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A4000D-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A4000D from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A4000D-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF

  ; amiga os 3.1.4 a4000t
  IF EXISTS INSTALLDIR:Prefs/Amiga-OS-314-A4000T-ADF
    ; set default install amiga os 3.1.4 a4000t from adf, if not set
    IF NOT EXISTS "T:_amigaosinstall"
      echo "Amiga OS 3.1.4 A4000T from adf files" >T:_amigaosname
      echo "Amiga-OS-314-A4000T-ADF" >T:_amigaosinstall
      echo "0" >T:_amigaos39
      echo "0" >T:_boingbaginstall
    ENDIF

    echo "" >>T:_amigaosmenu
    echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A4000T-ADF*"" >>T:_amigaosmenu
    echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ELSE" >>T:_amigaosmenu
    echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
    echo "ENDIF" >>T:_amigaosmenu
    echo "echo *" : Amiga OS 3.1.4 A4000T from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

    set menuoption `eval $menuoption + 1`
    echo "" >>T:_amigaosoption
    echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
    echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-314-A4000T-ADF*"" >>T:_amigaosoption
    type T:_amigaosfloppydisk >>T:_amigaosoption
    echo "  ELSE" >>T:_amigaosoption
    echo "    set amigaosname *"Amiga OS 3.1.4 A4000T from adf files*"" >>T:_amigaosoption
    echo "    set amigaosinstall *"Amiga-OS-314-A4000T-ADF*"" >>T:_amigaosoption
    echo "    set amigaos39 *"0*"" >>T:_amigaosoption
    echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
    echo "  ENDIF" >>T:_amigaosoption
    echo "ENDIF" >>T:_amigaosoption
  ENDIF
ELSE
  set menuoption `eval $menuoption + 1`
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.1.4 adf files*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF


; add splitter
set menuoption `eval $menuoption + 1`
echo "echo *"--------------------------------------------------*" >>T:amigaosmenu" >>T:_amigaosmenu


; amiga os 3.1
set menuoption `eval $menuoption + 1`
IF EXISTS INSTALLDIR:Prefs/Amiga-OS-310-ADF
  ; set default install amiga os 3.1 from adf, if not set
  IF NOT EXISTS "T:_amigaosinstall"
    echo "Amiga OS 3.1 from adf files" >T:_amigaosname
    echo "Amiga-OS-310-ADF" >T:_amigaosinstall
    echo "0" >T:_amigaos39
    echo "0" >T:_boingbaginstall
  ENDIF

  echo "" >>T:_amigaosmenu
  echo "IF *"*$amigaosinstall*" EQ *"Amiga-OS-310-ADF*"" >>T:_amigaosmenu
  echo "  echo *"Install*" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ELSE" >>T:_amigaosmenu
  echo "  echo *"Skip   *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "ENDIF" >>T:_amigaosmenu
  echo "  echo *" : Amiga OS 3.1 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu

  echo "" >>T:_amigaosoption
  echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
  echo "  IF *"*$amigaosinstall*" EQ *"Amiga-OS-310-ADF*"" >>T:_amigaosoption
  type T:_amigaosfloppydisk >>T:_amigaosoption
  echo "  ELSE" >>T:_amigaosoption
  echo "    set amigaosname *"Amiga OS 3.1 from adf files*"" >>T:_amigaosoption
  echo "    set amigaosinstall *"Amiga-OS-310-ADF*"" >>T:_amigaosoption
  echo "    set amigaos39 *"0*"" >>T:_amigaosoption
  echo "    set boingbaginstall *"0*"" >>T:_amigaosoption
  echo "  ENDIF" >>T:_amigaosoption
  echo "ENDIF" >>T:_amigaosoption
ELSE
  echo "" >>T:_amigaosmenu
  echo "echo *"N/A    *" NOLINE >>T:amigaosmenu" >>T:_amigaosmenu
  echo "echo *" : Amiga OS 3.1 from adf files*" >>T:amigaosmenu" >>T:_amigaosmenu
ENDIF

; add splitter
set menuoption `eval $menuoption + 1`
echo "echo *"--------------------------------------------------*" >>T:amigaosmenu" >>T:_amigaosmenu

; view detect amiga os log option
set menuoption `eval $menuoption + 1`
echo "" >>T:_amigaosoption
echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
echo "  IF EXISTS *"INSTALLDIR:Temp/Detect-Amiga-OS.log*"" >>T:_amigaosoption
echo "    Lister *"INSTALLDIR:Temp/Detect-Amiga-OS.log*" >NIL:" >>T:_amigaosoption
echo "  ELSE" >>T:_amigaosoption
echo "    RequestChoice *"Error*" *"Detect Amiga OS log doesn't exist!*" *"OK*" >NIL:" >>T:_amigaosoption
echo "  ENDIF" >>T:_amigaosoption
echo "ENDIF" >>T:_amigaosoption
echo "" >>T:_amigaosmenu
echo "echo *"View Detect Amiga OS log*" >>T:amigaosmenu" >>T:_amigaosmenu

; confirm amiga os installation option
set menuoption `eval $menuoption + 1`
echo "" >>T:_amigaosoption
echo "IF *"*$amigaosoption*" EQ $menuoption VAL" >>T:_amigaosoption
echo "  set confirm *`RequestChoice *"Amiga OS installation*" *"Do you want to install**N*$amigaosname?*" *"Yes|No*"*`" >>T:_amigaosoption
echo "  IF *"*$confirm*" EQ 1 VAL" >>T:_amigaosoption
echo "    SKIP amigaosinstall" >>T:_amigaosoption
echo "  ENDIF" >>T:_amigaosoption
echo "ENDIF" >>T:_amigaosoption
echo "" >>T:_amigaosmenu
echo "echo *"Confirm install *$amigaosname*" >>T:amigaosmenu" >>T:_amigaosmenu

; show amiga os installation menu
echo "" >>T:_amigaosmenu
echo "set amigaosoption *"*"" >>T:_amigaosmenu
echo "set amigaosoption *"*`RequestList TITLE=*"Select Amiga OS installation*" LISTFILE=*"T:amigaosmenu*" WIDTH=640 LINES=24*`*"" >>T:_amigaosmenu

; add amiga os options to amiga os menu
echo "" >>T:_amigaosmenu
type T:_amigaosoption >>T:_amigaosmenu
echo "" >>T:_amigaosmenu
echo "SKIP BACK amigaosmenu" >>T:_amigaosmenu
echo "" >>T:_amigaosmenu
echo "; amiga os install" >>T:_amigaosmenu
echo "; ----------------" >>T:_amigaosmenu
echo "LAB amigaosinstall" >>T:_amigaosmenu
echo "echo *"*" NOLINE >*"INSTALLDIR:Prefs/Install-*$amigaosinstall*"" >>T:_amigaosmenu
echo "IF *"*$amigaos39*" EQ 1 VAL" >>T:_amigaosmenu
echo "  echo *"*" NOLINE >*"INSTALLDIR:Prefs/Install-Amiga-OS-390*"" >>T:_amigaosmenu
echo "ENDIF" >>T:_amigaosmenu
echo "IF *"*$boingbaginstall*" GT 0 VAL" >>T:_amigaosmenu
echo "  echo *"*" NOLINE >*"INSTALLDIR:Prefs/Install-Amiga-OS-390-BB1*"" >>T:_amigaosmenu
echo "ENDIF" >>T:_amigaosmenu
echo "IF *"*$boingbaginstall*" GT 1 VAL" >>T:_amigaosmenu
echo "  echo *"*" NOLINE >*"INSTALLDIR:Prefs/Install-Amiga-OS-390-BB2*"" >>T:_amigaosmenu
echo "ENDIF" >>T:_amigaosmenu
echo "" >>T:_amigaosmenu
echo "LAB end" >>T:_amigaosmenu
echo "" >>T:_amigaosmenu

; 
echo "" NOLINE >"{amigaosmenu}"

; set default amigaosname
IF EXISTS T:_amigaosname
  echo "set amigaosname *"`type T:_amigaosname`*"" >>"{amigaosmenu}"
ELSE
  echo "set amigaosname *"Amiga OS from floppy disks*"" >>"{amigaosmenu}"
ENDIF

; set default amigaosinstall
IF EXISTS T:_amigaosinstall
  echo "set amigaosinstall *"`type T:_amigaosinstall`*"" >>"{amigaosmenu}"
ELSE
  echo "set amigaosinstall *"Amiga-OS-Disk*"" >>"{amigaosmenu}"
ENDIF

; set default amigaos39
IF EXISTS T:_amigaos39
  echo "set amigaos39 *"`type T:_amigaos39`*"" >>"{amigaosmenu}"
ELSE
  echo "set amigaos39 *"0*"" >>"{amigaosmenu}"
ENDIF

; set default boingbaginstall
IF EXISTS T:_boingbaginstall
  echo "set boingbaginstall *"`type T:_boingbaginstall`*"" >>"{amigaosmenu}"
ELSE
  echo "set boingbaginstall *"0*"" >>"{amigaosmenu}"
ENDIF

type T:_amigaosmenu >>"{amigaosmenu}"

; delete temp files
IF EXISTS T:_amigaosmenu
  Delete >NIL: T:_amigaosmenu
ENDIF
IF EXISTS T:_amigaosoption
  Delete >NIL: T:_amigaosoption
ENDIF
IF EXISTS T:_amigaosfloppydisk
  Delete >NIL: T:_amigaosfloppydisk
ENDIF
